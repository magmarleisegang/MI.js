function MarkerWithLabel(n){this.marker=new Marker(n.position),this.marker.setOptions(n),n.text!=null&&(this.label=new Label(n))}SizablePolygon=function(){function h(n,t){e=new google.maps.LatLngBounds,f=!1,l(n,t)}function c(e,h,c){var a,l;return(n==null&&(a={map:c,path:[],strokeOpacity:1,strokeWeight:s,strokeColor:Colors.Pink.hash()},n=new google.maps.Polyline(a)),u)?!0:(o=n.getPath().length===0,l=new Marker(h),l.setIcon(URL.PIN),l.setMap(c),r[n.getPath().length]=l,o&&google.maps.event.addListenerOnce(l,"click",function(){var r,e;return n.getPath().push(l.position),l.setMap(null),r=n.getPath(),n.setMap(null),n=null,e={map:c,path:r,strokeOpacity:.8,strokeWeight:s,fillColor:Colors.ZoneFillColor,fillOpacity:.3},t=new google.maps.Polygon(e),t.setMap(c),i=t.getPath(),ZonePopup.RemoveListener(),u=!0,f=!1,!0}),u=!1,n.getPath().push(l.position),o===!1&&l.setMap(null),!1)}function l(n,f){for(var c=[],y=n.Points.length,v,l,h,o=0;o<y;o++)c[o]=new google.maps.LatLng(n.Points[o][1],n.Points[o][0]),e.extend(c[o]);for(v={map:f,path:c,fillColor:Colors.ZoneFillColor,fillOpacity:.3,strokeWeight:s},t=new google.maps.Polygon(v),t.setMap(f),l=0;l<c.length-1;l++)h=Marker(c[l]),h.setIcon(URL.PIN),h.setMap(f),h.setDraggable(!0),h.setZIndex(l),a(h),r[l]=h;i=c,n.Geometry=t,u=!0}function a(n){google.maps.event.addListener(n,"drag",function(r){var u=n.getZIndex();i[u]=r.latLng,u===0&&(i[i.length-1]=r.latLng),t.setPath(i),f=!0})}function v(){var e,i;if(typeof r!="undefined"&&r!==null){for(e=r.length,i=0;i<e;i++)r[i].setMap(null);r=[]}typeof t!="undefined"&&t!==null&&t.setMap(null),typeof n!="undefined"&&n!==null&&n.setMap(null),n=null,u=!1,f=!1}function y(){if(typeof i=="undefined"||i==null||i.length===0)return null;var n=[];return i.forEach(function(t){var i=[];i[0]=t.lng(),i[1]=t.lat(),n.push(i)}),n}function p(){return e}function w(){return u}function b(){return f}var t,i=[],f,r=[],e,n=null,u,o,s=1;return{DrawNewPolygon:c,InitializePolygon:h,RemovePolygon:v,GetPolygonPoints:y,GetBounds:p,IsClosed:w,HasChanged:b}}(),SizableCircle=function(){function s(f,o,s){n=null,t=null,e=null,u=f,h(f,s),r=o,c(f,o,s),i=!1}function h(r,u){var e={position:r,icon:URL.PIN,draggable:!0,raiseOnDrag:!1};t=new google.maps.Marker(e),t.setMap(u),google.maps.event.addListener(t,"dragstart",function(){f=!0}),google.maps.event.addListener(t,"drag",function(t){n.setCenter(t.latLng)}),google.maps.event.addListener(t,"dragend",function(t){f=!1,n.setCenter(t.latLng),i=!0})}function c(t,f,e){if(n==null||typeof n=="undefined"){var s={center:t,map:e,fillColor:Colors.ZoneFillColor.hash(),fillOpacity:.3,radius:parseInt(f),strokeWeight:o};n=new google.maps.Circle(s)}n.setOptions({center:t,radius:parseInt(f)}),r=f,u=t,ZonePopup.SetRadius(r),i=!1}function l(t){typeof n!="undefined"&&(n.setRadius(parseInt(t)),r=t,i=!0)}function a(){typeof t!="undefined"&&t!==null&&t.setMap(null),typeof n!="undefined"&&n!==null&&n.setMap(null),i=!1}function v(){if(typeof n=="undefined"||n===null)return null;var t=[];return u=n.getCenter(),t[0]=u.lng(),t[1]=u.lat(),t}function y(){return new Number(r.toFixed(0))}function p(){return n.getBounds()}function w(){return i}var n,i,t,e,f=!1,r=1,u,o=1;return{InitializeCircle:s,radiusChanged:l,RemoveCircle:a,GetCircleCenter:v,GetBounds:p,HasChanged:w,GetRadius:y}}(),Label=function(n){var t,i;this.setValues(n),t=this.span_=document.createElement("span"),t.className=n.labelClass?n.labelClass:"labels",i=this.div_=document.createElement("div"),i.appendChild(t),i.style.cssText="position: absolute; display: none",this.zoomLevel_=n.zoom,this.fixedZoom_=n.fixedZoom==undefined?!0:n.fixedZoom},Label.prototype=new google.maps.OverlayView,Label.prototype.onAdd=function(){var t=this.getPanes().overlayLayer,n;t.appendChild(this.div_),n=this,this.listeners_=[google.maps.event.addListener(this,"position_changed",function(){n.draw()}),google.maps.event.addListener(this,"text_changed",function(){n.draw()})]},Label.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);for(var n=0,t=this.listeners_.length;n<t;++n)google.maps.event.removeListener(this.listeners_[n])},Label.prototype.draw=function(){var u=this.getProjection(),r=u.fromLatLngToDivPixel(this.get("position")),i=this.div_,n=this.get("labelTopOffset"),t;n=n==undefined?0:n,i.style.left=r.x+"px",i.style.top=r.y+n+"px",i.style.display=this.fixedZoom_==!0?this.getMap().getZoom()>=this.zoomLevel_?"block":"none":"block";try{t=this.get("text")}catch(f){t=this.text}this.span_.innerHTML=t==null?"Unknown":t.toString()},MarkerWithLabel.prototype.setMap=function(n){this.label&&this.label.setMap(n),this.marker.setMap(n)},MarkerWithLabel.prototype.setOptions=function(n){this.label&&this.label.setOptions(n),this.marker.setOptions(n)},MarkerWithLabel.prototype.setPosition=function(n){this.label&&this.label.set("position",n),this.marker.setPosition(n),this.marker.getMap()!=undefined&&this.label&&this.label.set("zoom",this.marker.getMap().getZoom())},MarkerWithLabel.prototype.setText=function(n){this.label&&this.label.set("text",n)},MarkerWithLabel.prototype.setAnimation=function(n){this.marker.setAnimation(n)},MarkerWithLabel.prototype.setIcon=function(n){n.icon?this.marker.setOptions({icon:n.icon}):n.letter!=undefined&&this.marker.setOptions({icon:"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+n.letter+"|"+n.hexColor+"|000000"})},SetupLabelMarker=function(n){var t={map:null,position:[0,0],hexColor:"000000",markerLetter:"",cursorString:null,labelTopOffset:0,title:"Click to view"},i,r,u;return $.extend(t,n),i=t.position.lat==undefined?new google.maps.LatLng(t.position[1],t.position[0]):t.position,r=t.labelTopOffset==undefined?0:t.labelTopOffset,u=new MarkerWithLabel({position:i,draggable:!1,map:t.map,title:t.title,text:t.cursorString,labelClass:"labels",zoom:t.map.getZoom(),icon:"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+t.markerLetter+"|"+t.hexColor+"|000000",fixedZoom:!1,labelTopOffset:r}),u},GoogleMapExtensions=function(){function t(n){var i=Math.abs(n.getNorthEast().lng()),r=Math.abs(n.getSouthWest().lng()),t=new Number;return t=i-r,Math.abs(t)}function i(n){var i=Math.abs(n.getNorthEast().lat()),r=Math.abs(n.getSouthWest().lat()),t=new Number;return t=i-r,Math.abs(t)}var n=[[60,44.305605929149252],[60,37.138733325882541],[35.15625,21.828820746605853],[17.578125,10.888547634349166],[8.7890625,5.3985623875461251],[4.39453125,2.6935387402696023],[2.1972656249999996,1.3457977980886113],[1.0986328125,.67277575263742051],[.54931640624999944,.3363724297735935],[.27465820312500061,.16818428240381778],[.13732910156250058,.084090306116708646],[.0686645507812506,.042045122852320205],[.03433227539062559,.021022657242566467],[.0171661376953125,.010511328149314991],[.0085830688476556585,.0052556640156637968],[.0042915344238293089,.0026278304443252409],[.0021457672119146545,.00131391561027705],[.0010728836059564391,.0006569578050221736]];return{GetPolyBounds:function(n){for(var i=new google.maps.LatLngBounds,t=0;t<n.length;t++)i.extend(n[t]);return i},GetPolySouthmostLng:function(n){for(var i=n[0],r=n.length,t=1;t<r;t++)n[t].lat()<i.lat()&&(i=n[t]);return i.lng()},GetPolyCentroid:function(n){var t=this.GetPolyBounds(n);return t.getCenter()},GetZoneCenter:function(n){var r,i,t;if(n.ZoneType==1)return n.Geometry.getCenter();for(r=n.Points.length,i=[],t=0;t<r;t++)i[t]=new google.maps.LatLng(n.Points[t][1],n.Points[t][0]);return this.GetPolyCentroid(i)},GetZoomLevel:function(r,u){var l=n.length,f=new Number,o,s,h;f=0;var y=new Number,e=t(r),a=i(r);if(e==0&&a==0)return 13;for(o=!1,u.height==undefined?(h=u,s=u):(h=u.height,s=u.width);;){var v=n[f][0]*s/100,p=n[f][1]*h/100,c=new Number;if(v==e)break;else if(e>v||a>p)c=f-1,o=!0;else{if(f==l-1)break;if(o===!0)break;c=(f+(l-f)/2).toFixed(0)}y=f,f=parseInt(c)}return f},GetLineBounds:function(n){for(var i=new google.maps.LatLngBounds,t=0;t<n.length;t++)i.extend(n[t]);return i}}}(),Marker=function(n,t){var r,i;return r=typeof n.latLng!="undefined"?n.latLng:n,i={flat:!0,position:r},t!=undefined&&(i.icon=t),new google.maps.Marker(i)},Dot=function(){return{path:"M -2,0 0,-2 2,0 0,2 z",strokeColor:"#000",fillColor:"#000",fillOpacity:1,strokeWeight:3}},Arrow=function(n,t){return{path:"M -10,15 0,10 10,15 0,-15 z",strokeColor:"#000",fillColor:"#"+t,fillOpacity:1,strokeWeight:1,rotation:n}},CircleOutline=function(n){return{path:"M15,-20a25,25 0 1,0 1,1z",strokeColor:"#"+n,strokeWeight:5,strokeOpacity:.5}},ScriptLoadComplete=!0