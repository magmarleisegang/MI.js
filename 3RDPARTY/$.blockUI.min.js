/*!
* jQuery blockUI plugin
* Version 2.39 (23-MAY-2011)
* @requires jQuery v1.2.3 or later
*
* Examples at: http://malsup.com/jquery/block/
* Copyright (c) 2007-2010 M. Alsup
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* Thanks to Amir-Hossein Sobhi for some excellent contributions!
*/
(function(n){function s(f,s){var l=f==window,h=s&&s.message!==undefined?s.message:undefined,nt,tt,k,w,rt,ut,ft,lt;s=n.extend({},n.blockUI.defaults,s||{}),s.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,s.overlayCSS||{}),nt=n.extend({},n.blockUI.defaults.css,s.css||{}),tt=n.extend({},n.blockUI.defaults.themedCSS,s.themedCSS||{}),h=h===undefined?s.message:h,l&&t&&e(window,{fadeOut:0}),h&&typeof h!="string"&&(h.parentNode||h.jquery)&&(k=h.jquery?h[0]:h,w={},n(f).data("blockUI.history",w),w.el=k,w.parent=k.parentNode,w.display=k.style.display,w.position=k.style.position,w.parent&&w.parent.removeChild(k)),n(f).data("blockUI.onUnblock",s.onUnblock);var b=s.baseZ,g=n.browser.msie||s.forceIframe?n('<iframe class="blockUI" style="z-index:'+b+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"><\/iframe>'):n('<div class="blockUI" style="display:none"><\/div>'),d=s.theme?n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+b+++';display:none"><\/div>'):n('<div class="blockUI blockOverlay" style="z-index:'+b+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),p,it;if(it=s.theme&&l?'<div class="blockUI '+s.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(b+10)+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':s.theme?'<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(b+10)+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':l?'<div class="blockUI '+s.blockMsgClass+' blockPage" style="z-index:'+(b+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+(b+10)+';display:none;position:absolute"><\/div>',p=n(it),h&&(s.theme?(p.css(tt),p.addClass("ui-widget-content")):p.css(nt)),s.theme||s.applyPlatformOpacityRules&&n.browser.mozilla&&/Linux/.test(navigator.platform)||d.css(s.overlayCSS),d.css("position",l?"fixed":"absolute"),(n.browser.msie||s.forceIframe)&&g.css("opacity",0),rt=[g,d,p],ut=l?n("body"):n(f),n.each(rt,function(){this.appendTo(ut)}),s.theme&&s.draggable&&n.fn.draggable&&p.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),ft=v&&(!n.boxModel||n("object,embed",l?null:f).length>0),o||ft){if(l&&s.allowBodyStretch&&n.boxModel&&n("html,body").css("height","100%"),(o||!n.boxModel)&&!l)var et=r(f,"borderTopWidth"),ot=r(f,"borderLeftWidth"),st=et?"(0 - "+et+")":0,ht=ot?"(0 - "+ot+")":0;n.each([g,d,p],function(n,t){var i=t[0].style,r,u;i.position="absolute",n<2?(l?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),l?i.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ht&&i.setExpression("left",ht),st&&i.setExpression("top",st)):s.centerY?(l&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!s.centerY&&l&&(r=s.css&&s.css.top?parseInt(s.css.top):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(h&&(s.theme?p.find(".ui-widget-content").append(h):p.append(h),(h.jquery||h.nodeType)&&n(h).show()),(n.browser.msie||s.forceIframe)&&s.showOverlay&&g.show(),s.fadeIn){var ct=s.onBlock?s.onBlock:u,at=s.showOverlay&&!h?ct:u,vt=h?ct:u;s.showOverlay&&d._fadeIn(s.fadeIn,at),h&&p._fadeIn(s.fadeIn,vt)}else s.showOverlay&&d.show(),h&&p.show(),s.onBlock&&s.onBlock();c(1,f,s),l?(t=p[0],i=n(":input:enabled:visible",t),s.focusInput&&setTimeout(a,20)):y(p[0],s.centerX,s.centerY),s.timeout&&(lt=setTimeout(function(){l?n.unblockUI(s):n(f).unblock(s)},s.timeout),n(f).data("blockUI.timeout",lt))}function e(r,u){var o=r==window,f=n(r),s=f.data("blockUI.history"),l=f.data("blockUI.timeout"),e;l&&(clearTimeout(l),f.removeData("blockUI.timeout")),u=n.extend({},n.blockUI.defaults,u||{}),c(0,r,u),u.onUnblock===null&&(u.onUnblock=f.data("blockUI.onUnblock"),f.removeData("blockUI.onUnblock")),e=o?n("body").children().filter(".blockUI").add("body > .blockUI"):n(".blockUI",r),o&&(t=i=null),u.fadeOut?(e.fadeOut(u.fadeOut),setTimeout(function(){h(e,s,u,r)},u.fadeOut)):h(e,s,u,r)}function h(t,i,r,u){if(t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),n(u).removeData("blockUI.history")),typeof r.onUnblock=="function")r.onUnblock(u,r)}function c(i,r,u){var f=r==window,o=n(r),e;(i||(!f||t)&&(f||o.data("blockUI.isBlocked")))&&(f||o.data("blockUI.isBlocked",i),u.bindEvents&&(!i||u.showOverlay))&&(e="mousedown mouseup keydown keypress",i?n(document).bind(e,u,l):n(document).unbind(e,l))}function l(r){var e;if(r.keyCode&&r.keyCode==9&&t&&r.data.constrainTabKey){var u=i,o=!r.shiftKey&&r.target===u[u.length-1],f=r.shiftKey&&r.target===u[0];if(o||f)return setTimeout(function(){a(f)},10),!1}return(e=r.data,n(r.target).parents("div."+e.blockMsgClass).length>0)?!0:n(r.target).parents().children().filter("div.blockUI").length==0}function a(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function y(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0"),i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i))||0}var t,i;if(/1\.(0|1|2)\.(0|1|2)/.test(n.fn.jquery)||/^1.1/.test(n.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+n.fn.jquery);return}n.fn._fadeIn=n.fn.fadeIn;var u=function(){},f=document.documentMode||0,v=n.browser.msie&&(n.browser.version<8&&!f||f<8),o=n.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!f;n.blockUI=function(n){s(window,n)},n.unblockUI=function(n){e(window,n)},n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>');t&&f.append("<h1>"+t+"<\/h1>"),i&&f.append("<h2>"+i+"<\/h2>"),r==undefined&&(r=3e3),n.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:r,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})},n.fn.block=function(t){return this.unblock({fadeOut:0}).each(function(){n.css(this,"position")=="static"&&(this.style.position="relative"),n.browser.msie&&(this.style.zoom=1),s(this,t)})},n.fn.unblock=function(n){return this.each(function(){e(this,n)})},n.blockUI.version=2.39,n.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,applyPlatformOpacityRules:!0,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"},t=null,i=[],n.blockUI.windowCenter=function(){n("div.blockPage").center2()}})(jQuery)