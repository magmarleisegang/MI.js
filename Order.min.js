function GenerateListOfYears(n,t){var u=new Date,f=document.getElementById(t),r;for(i=0;i<n;i++){r=document.createElement("option"),r.text=u.getFullYear()-i,r.value=u.getFullYear()-i;try{f.add(r,null)}catch(e){f.add(r)}}}function isInteger(n){for(var i,t=0;t<n.length;t++)if(i=n.charAt(t),i<"0"||i>"9")return!1;return!0}function stripCharsInBag(n,t){for(var u="",r,i=0;i<n.length;i++)r=n.charAt(i),t.indexOf(r)==-1&&(u+=r);return u}function daysInFebruary(n){return n%4==0&&(!(n%100==0)||n%400==0)?29:28}function DaysArray(n){for(var t=1;t<=n;t++)this[t]=31,(t==4||t==6||t==9||t==11)&&(this[t]=30),t==2&&(this[t]=29);return this}function isDate(n){var r=new Date,s=DaysArray(12),u=n.indexOf(dtCh),f=n.indexOf(dtCh,u+1),t=n.substring(0,u),i=n.substring(u+1,f),o=n.substring(f+1),e;for(strYr=o,i.charAt(0)=="0"&&i.length>1&&(i=i.substring(1)),t.charAt(0)=="0"&&t.length>1&&(t=t.substring(1)),e=1;e<=3;e++)strYr.charAt(0)=="0"&&strYr.length>1&&(strYr=strYr.substring(1));return(month=parseInt(i),day=parseInt(t),year=parseInt(strYr),u==-1||f==-1)?(alert("The date format should be : yyyy-mm-dd"),!1):i.length<1||month<1||month>12?(alert("Please enter a valid month"),!1):t.length<1||day<1||day>31||month==2&&day>daysInFebruary(year)||day>s[month]?(alert("Please enter a valid day"),!1):o.length!=4||year==0||year<minYear||year>maxYear?(alert("Please enter a valid 4 digit year between "+minYear+" and "+maxYear),!1):n.indexOf(dtCh,f+1)!=-1||isInteger(stripCharsInBag(n,dtCh))==!1?(alert("Please enter a valid date"),!1):year==r.getFullYear()&&(month>r.getMonth()+1||month==r.getMonth()+1&&day>r.getDate())?(alert("Your odometer reading cannot be in the future"),!1):!0}function ValidateDate(n){if(n.value!=undefined&&n.value!=""&&n.value!="yyyy-mm-dd")return isDate(n.value)==!1?(n.focus(),!1):!0}function ValidateInt(n){if(n.value!=undefined&&n.value!=""){var t=parseInt(n.value);return t==-1?(alert("Please enter a value less than 2147483647"),n.focus(),!1):!0}}function isNumberKey(n){var t=n.which?n.which:n.keyCode;return t>31&&(t<48||t>57)?!1:!0}function URLParams(n){var u=n.split("?")[1],i,t,r;if(u==undefined){this.IsEmpty=!0;return}for(i=u.split("&"),this.Count=i.length,t=0;t<this.Count;t++)r=i[t].split("="),this[r[0]]=r[1];this.IsEmpty=!1}function ProductType(n,t,i,r,u,f,e){this.Id=n,this.Name=t,this.Price=i,this.Highlight=r,this.QuantityTextBox=$("#txtQuantity"+n)[0],this.MaximumOrder=f,this.MinimumOrder=u,this.OutOfStock=e}function FindProduct(n){for(var t=0;t<products.length;t++)if(products[t].Id==n)return products[t];return undefined}function FindProductByTextbox(n){for(var t=0;t<products.length;t++)if(products[t].QuantityTextBox==n)return products[t];return undefined}function FindSummaryRow(n){return $("#summaryProd"+n)}function ManualAmountInput(n){var t,i;ValidateInt(n)==!0&&(t=FindProductByTextbox(n),$("input[name='"+t.Id+"']").removeAttr("checked"),$("#rQty"+t.Id).prop("checked",!0),i=n.value,i>t.MaximumOrder?(i=t.MaximumOrder,alert("To order more than "+t.MaximumOrder+" units, please send a request to "+$("div#contactnumber a").text())):i<=0?i=0:i<t.MinimumOrder&&(i=t.MinimumOrder),n.value=i,UpdateList(t.Id),CalculateTotal())}function GetProducts(n){return $.ajax({type:"POST",url:"../OrderingWebService.asmx/GetProducts",contentType:"application/json; charset=utf-8",data:{},dataType:"json",success:function(t){var s=t.d[0],h=t.d[1],c,l,i,e,r,v,u,a,o,f,y;if(sCurrency=t.d[2],s!=undefined&&s.length>0){for(c=s.length,l=0;l<c;l++)i=s[l],products.push(new ProductType(i.iSalesProductId,i.sName,i.dPrice,i.fHighlight,i.iMinimumOrderQuantity,i.iMaximumOrderQuantity,i.fOutOfStock)),i.fOutOfStock?($("#stockNotice"+i.iSalesProductId).css("visibility","visible"),$("input:radio[name=radio"+i.iSalesProductId+"]")[0].checked=!0):$("#stockNotice"+i.iSalesProductId).css("visibility","hidden"),$("input:radio[name=radio"+i.iSalesProductId+"]")[0].disabled=i.fOutOfStock;listedProducts[0]=products[0]}if(h!=null&&h.length>0){for(e=h[0],c=e.length,r=0;r<c;r++)$("#txtQuantity"+e[r].iSalesProductId).val(e[r].dQuantity),$("input:radio[name=radio"+e[r].iSalesProductId+"][value=on]").click();v=h[1],v!=null&&ValidateVoucher(null,v)}else if(n.IsEmpty||n.p==undefined)$("div.main_product_content div.description").length==1&&(y=FindProduct($("div.main_product_content div.description input[type=radio][value=on]").data("id")),$("div.main_product_content div.description input[type=radio][value=on]")[0].checked=!0,y.SetQuantity(1),UpdateList(y.Id));else{for(u=0;u<products.length;++u)$("input:radio[name=radio"+products[u].Id+"]")[0].checked=!0,products[u].SetQuantity(0),UpdateList(products[u].Id);for(a=n.p.split(","),o=0;o<a.length;++o)for(f=0;f<products.length;++f)products[f].Id==a[o]&&($("input:radio[name=radio"+products[f].Id+"]")[1].checked=!0,products[f].SetQuantity(1),UpdateList(a[o]))}},error:function(n){alert(n.responseText)}})}function UpdateList(n){for(var f=!1,t,i,e,u,r=0;r<listedProducts.length;r++)if(listedProducts[r]==n){f=!0;break}return t=FindProduct(n),i=t.GetQuantity(),t.OutOfStock==!0&&(i=0),f==!1?i==0||(e="<tr id='summaryProd"+t.Id+"'><td>"+t.Name+"<\/td><td>"+i+"<\/td><td>"+t.Price.toFixed(2)+"<\/td><td>"+sCurrency+" "+(t.Price*i).toFixed(2)+"<\/td>",$("#orderedItems tbody").append(e),listedProducts.push(n)):(u=FindSummaryRow(n),i==0?(listedProducts.removeFirstObj(n),u.remove()):(u.find("td:eq(1)").html(i),u.find("td:eq(3)").html(sCurrency+(i*t.Price).toFixed(2)))),CalculateTotal(),!1}function CalculateTotal(){var n=0,u,i,r,t;if($("#orderedItems tr:gt(0)").children("td:nth-child(4)").each(function(){var t=parseInt($(this).html().toString().substring(1));t>0&&(n+=t)}),u=n,i=!1,voucher!=null)if(r=IncludeVoucher(n),n>0){if(r>0?(n-=r,$("#spnDiscountAmount").text(sCurrency+" "+r.toFixed(2)),$("#trDiscountTotal").show()):$("#trDiscountTotal").hide(),voucher.dMinimumAmount>0||voucher.dMaximumAmount>0){t=0;switch(voucher.bVoucherTypeId){case 1:case 2:t=u;break;case 3:case 4:discountedProduct=FindProduct(voucher.iProductId),t=discountedProduct.GetQuantity()}voucher.dMinimumAmount>0&&voucher.dMinimumAmount>t?(i=!0,$("#spnDiscountAmount").addClass("red"),$("#spnDiscountAmount").text(sCurrency+" 0.00")):voucher.dMaximumAmount>0&&voucher.dMaximumAmount<t?(i=!0,$("#spnDiscountAmount").addClass("red"),$("#spnDiscountAmount").text(sCurrency+" 0.00")):$("#spnDiscountAmount").removeClass("red")}}else $("#spnDiscountAmount").addClass("red"),$("#spnDiscountAmount").text(sCurrency+" 0.00");else $("#trDiscountTotal").hide();return $("#spnAmountDue").text(sCurrency+" "+n.toFixed(2)),u>0&&i==!1?($("#btnContinue").prop("disabled",!1),$("#btnContinue").css("cursor","pointer")):($("#btnContinue").prop("disabled",!0),$("#btnContinue").css("cursor","default")),!1}function ValidateVoucher(n,t){var i='{"voucherCode":"'+n+'", "voucherId": '+t+"}";$.ajax({type:"POST",url:"../OrderingWebService.asmx/GetVoucher",contentType:"application/json; charset=utf-8",data:i,dataType:"json",success:function(n){if(voucher!=null&&voucher.iVoucherId==n.d.iVoucherId)return orderContinueButtonClicked=!1,!1;if(voucher=n.d,voucher.iVoucherId==0)return SetVoucherError("The entered voucher code is not valid."),voucher=null,orderContinueButtonClicked=!1,!1;if(voucher.fIsActive==!1)return SetVoucherError("The entered voucher code has expired."),orderContinueButtonClicked=!1,!1;var t=new Date,r=new Date(t.getTime()+t.getTimezoneOffset()*6e4),i=new Date(parseInt(voucher.dtExpiryUtc.replace(/\D/g,"")));if(i<r)return SetVoucherError("The entered voucher code expired on "+i.toLocaleDateString()+" and is no longer valid."),orderContinueButtonClicked=!1,!1;if(voucher.fMultiUseVoucher==!0){if(voucher.iMaximumUseCount!=0&&voucher.iCurrentUseCount>=voucher.iMaximumUseCount)return SetVoucherError("The entered voucher code has reached its maximum use and is no longer valid."),voucher=null,orderContinueButtonClicked=!1,!1}else if(voucher.iCurrentUseCount>=1)return SetVoucherError("The entered voucher code has already been used and is no longer valid."),voucher=null,orderContinueButtonClicked=!1,!1;Cookie.Create({name:"v",value:voucher.sVoucherCode,path:"/"}),$("#ifUseVoucher").val(!0),$("#txtVoucherError").hide(),$("#txtVoucherCode").removeClass("redBorder"),$(".addVoucher").hide(),CalculateTotal(),$("#txtVoucherType").text(voucher.sVoucherType),$(".removeVoucher").show(),orderContinueButtonClicked==!0&&(orderContinueButtonClicked=!1,OrderContinueCheck()&&alert("The voucher has been validated. Please click 'Continue'."))},error:function(n){alert(n.responseText)}})}function SetVoucherError(n){var t=$("#txtVoucherError");t.text(n),$("#txtVoucherCode").addClass("redBorder"),$("#ErrorMessage").css("display","none"),t.show()}function IncludeVoucher(n){var t,i,r;switch(voucher.bVoucherTypeId){case 1:t=n*(voucher.dValue/100),voucher.sVoucherType="Discount: "+voucher.dValue+"% off total order value.";break;case 2:t=voucher.dValue,voucher.sVoucherType="Discount: "+sCurrency+voucher.dValue+" off total order value.";break;case 3:i=FindProduct(voucher.iProductId),t=i.GetQuantity()*i.Price*(voucher.dValue/100),voucher.sVoucherType="Discount: "+voucher.dValue+"% off all "+i.Name+"s only.";break;case 4:i=FindProduct(voucher.iProductId),t=i.GetQuantity()*voucher.dValue,voucher.sVoucherType="Discount: "+sCurrency+voucher.dValue+" off all "+i.Name+"s only.";break;case 5:voucher.sVoucherType="This voucher gives you free shipping!",t=0}if(voucher.dMinimumAmount>0||voucher.dMaximumAmount>0)if(voucher.dMinimumAmount>0&&voucher.dMaximumAmount>0)switch(voucher.bVoucherTypeId){case 1:case 2:voucher.sVoucherType+=" This is only valid when your total order value lies between "+sCurrency+voucher.dMinimumAmount+" and "+sCurrency+voucher.dMaximumAmount+".",(n<voucher.dMinimumAmount||n>voucher.dMaximumAmount)&&(t=0);break;case 3:case 4:voucher.sVoucherType+=" This is only valid when you order between "+voucher.dMinimumAmount+" and "+voucher.dMaximumAmount+" of them.",r=i.GetQuantity(),(r<voucher.dMinimumAmount||r>voucher.dMaximumAmount)&&(t=0)}else if(voucher.dMinimumAmount>0)switch(voucher.bVoucherTypeId){case 1:case 2:voucher.sVoucherType+=" When your total order exceeds "+sCurrency+voucher.dMinimumAmount+".",n<voucher.dMinimumAmount&&(t=0);break;case 3:case 4:voucher.sVoucherType+=" When you order more than "+voucher.dMinimumAmount+".",r=i.GetQuantity(),r<voucher.dMinimumAmount&&(t=0)}else switch(voucher.bVoucherTypeId){case 1:case 2:voucher.sVoucherType+=" When your total order is less than "+sCurrency+voucher.dMaximumAmount+".",n>voucher.dMaximumAmount&&(t=0);break;case 3:case 4:voucher.sVoucherType+=" When you order less than "+voucher.dMaximumAmount+".",r=i.GetQuantity(),r>voucher.dMaximumAmount&&(t=0)}return t}function ShowError(n){$("#ErrorMessage").css("display","block"),$("#ErrorMessage").html("<p>"+n+"<\/p>")}function OrderContinueCheck(){var n=document.getElementById("txtVoucherCode").value;return listedProducts.length==0?(ShowError("No products selected."),!1):n!=""&&$("#ifUseVoucher").val()!="true"?(orderContinueButtonClicked=!0,UseVoucherClick()==!1)?($("#footer_voucher_box").addClass("redBorder"),!1):!1:!0}function btnContinue_Click(){return OrderContinueCheck()}function UseVoucherClick(){var n=document.getElementById("txtVoucherCode").value;if(n.length>0){if(ValidateVoucher(n,null))return $("#footer_voucher_box").removeClass("redBorder"),!0;$("#ifUseVoucher").val(!1)}else voucher!=null&&(voucher=null,$("#ifUseVoucher").val(!1),CalculateTotal());return!1}function OrderDocumentReady(){var n=new URLParams(document.URL),t=GetProducts(n);t.then(function(){if(n.IsEmpty||n.v==undefined){var t=Cookie.GetValue("v");t!=undefined&&(document.getElementById("txtVoucherCode").value=t,UseVoucherClick())}else n.v!=undefined&&(document.getElementById("txtVoucherCode").value=n.v,UseVoucherClick())}),$("#txtVoucherCode").keypress(function(n){var t=n.keyCode?n.keyCode:n.which;t==13&&(n.preventDefault(),$("#btnVoucherCode").click())}),$("dt.category_name.toggle").click(function(){var n=$(this).find("a").attr("href");return $(n).css("display")=="block"?($(this).find("a").css("background-position","0px 0px"),$(n).css("display","none")):($(this).find("a").css("background-position","0px -10px"),$(n).css("display","block")),!1}),$("input:radio").click(function(n){var i=$(n.target).data("id"),t=FindProduct(i);if(t.OutOfStock){$("[name='radio"+t.Id+"']").filter("[value=on]").prop("checked",!1),$("[name='radio"+t.Id+"']").filter("[value=off]").prop("checked",!0);return}n.target.value=="off"?(t.SetQuantity(0),UpdateList(i)):n.target.value=="on"&&(t.GetQuantity()==0&&t.SetQuantity(1),UpdateList(i))}),$("li.option_value img").click(function(){var u=$(this).parent().find("input[type='text']")[0],n=FindProductByTextbox(u),r,i,t;if(!n.OutOfStock)return $("input[name='"+n.Id+"']").removeAttr("checked"),r=n.GetQuantity(),i=0,$(this).attr("alt")=="subtract"?i=-1:$(this).attr("alt")=="add"&&(i=1),t=r+i,t>n.MaximumOrder?(t=n.MaximumOrder,alert("To order more than "+n.MaximumOrder+" products, please send a request to "+$("div#contactnumber a").text())):t<=0?t=0:t<n.MinimumOrder&&(t=n.MinimumOrder),t>0?($("[name='radio"+n.Id+"']").filter("[value=on]").prop("checked",!0),$("[name='radio"+n.Id+"']").filter("[value=off]").prop("checked",!1)):($("[name='radio"+n.Id+"']").filter("[value=on]").prop("checked",!1),$("[name='radio"+n.Id+"']").filter("[value=off]").prop("checked",!0)),t!=r&&(u.value=t,UpdateList(n.Id),CalculateTotal()),!1}),$(".field-with-placeholder input").val()!=null&&$(".field-with-placeholder input").val()!=undefined&&$(".field-with-placeholder input").val().length>0&&$(".field-with-placeholder input").parent().find("label").css("display","none"),$(".placeholder span").click(function(){$(this).parent().css("display","none"),$(this).parent().parent().find("input").focus()}),$(".field-with-placeholder input").focus(function(){$(this).parent().find("label").css("display","none")}),$(".field-with-placeholder input").blur(function(){$(this).val().length==0&&$(this).parent().find("label").css("display","block")}),$("#btnVoucherCode").click(function(){return UseVoucherClick(),!1}),$("#btnVoucherCodeRemove").click(function(){return voucher!=null&&(voucher=null,$(".removeVoucher").hide(),$(".addVoucher").show(),$("#ifUseVoucher").val(!1),Cookie.Delete("v"),CalculateTotal()),!1})}function OrderDeliveryDocumentReady(){function n(){$("#ddlDeliveryType").val()==1?($("#pChkDeliveryAddress").hide(),$("#divBillingAddress").show()):$("#chkDeliveryAddressAsBillingAddress").prop("checked")==!0?($("#divBillingAddress").hide(),$("#pChkDeliveryAddress").show(),$("txtBillingLine1").text($("txtDeliveryLine1").text()),$("txtBillingLine2").text($("txtDeliveryLine2").text()),$("txtBillingCity").text($("txtDeliveryCity").text()),$("txtBillingProvince").text($("ddlProvinceSelector").val()),$("txtBillingPostalCode").text($("txtPostalCode").text())):($("#divBillingAddress").show(),$("#pChkDeliveryAddress").show())}var t=$(document.forms[0]).validate({onsubmit:!1,ignore:":hidden",focusInvalid:!0,debug:!0,onkeyup:!1,errorContainer:"#ErrorMessageUpper",errorLabelContainer:"#ErrorMessageUpper ul",wrapper:"li"});$("#txtFullName").rules("add",{required:!0,maxlength:100,messages:{required:"Please enter your name.",maxlength:jQuery.format("The name field has to be shorter than {0} characters.")}}),$("#txtEmail").rules("add",{required:!0,email:!0,maxlength:100,messages:{required:"Please enter your email address.",email:"Please enter a valid email address.",maxlength:jQuery.format("The email address has to be shorter than {0} characters.")}}),$("#txtContactNumber").rules("add",{maxlength:100,messages:{maxlength:jQuery.format("The contact number field has to be shorter than {0} characters.")}}),$("#txtCompanyName").rules("add",{maxlength:50,messages:{maxlength:jQuery.format("The company name has to be shorter than {0} characters.")}}),$("#txtVATReg").rules("add",{maxlength:20,digits:!0,messages:{maxlength:jQuery.format("The VAT registration number has to be shorter than {0} characters."),digits:"Please make sure the VAT registration numer consists only of digits."}}),$("#txtDeliveryNote").rules("add",{maxlength:500,messages:{maxlength:jQuery.format("The delivery note has to be shorter than {0} characters.")}}),$("#txtDeliveryLine1").rules("add",{required:!0,maxlength:100,messages:{required:"Please enter an address in line 1.",maxlength:jQuery.format("The Address Line 1 field has to be shorter than {0} characters.")}}),$("#txtDeliveryCity").rules("add",{required:!0,maxlength:100,messages:{required:"Please enter a city/town name.",maxlength:jQuery.format("The City field has to be shorter than {0} characters.")}}),$.validator.methods.postalCode==undefined?$("#txtPostalCode").rules("add",{required:!0,digits:!0,maxlength:6,messages:{required:"Please enter a postal code.",digits:"Please enter only digits in the postal code.",maxlength:jQuery.format("The postal code has to be shorter than {0} characters.")}}):$("#txtPostalCode").rules("add",{required:!0,postalCode:!0,maxlength:8}),$("#ddlProvinceSelector option").length==0&&$("#trState").hide(),$("#ddlDeliveryType").change(function(){n()}),$("#chkDeliveryAddressAsBillingAddress").change(function(){n()}),n(),$("#btnContinue").click(function(n){$(document.forms[0]).valid()==!1?n.preventDefault():$("#ErrorMessageUpper").hide()})}function OnChangeDeliveryType(n){var t=$(n).val();t=="1"||t==""?($("#addressBlock").hide(),$("#pickupAddressBlock").show()):t=="2"&&($("#addressBlock").show(),$("#pickupAddressBlock").hide())}function SelectPaymentType(n){$(".paymentExplanation").hide();var t=n.value;t=="1"?$("#ccExplanation").show():t=="2"?$("#eftExplanation").show():t=="4"&&$("#ppExplanation").show(),$("#paymentType").val(t)}function OrderConfirmationDocumentReady(){$("#txtOrderProductError").hide(),ClearHiddenError();var n=$("#cmbPaymentType").val();n=="1"?$("#ccExplanation").show():n=="2"&&$("#eftExplanation").show(),$("#paymentType").val(n)}function ConfirmOrder(n){if($("#txtOrderProductError").hide(),ClearHiddenError(),$("#chkAgree").prop("checked")==!1)return $("#agreeTC").addClass("redBorder"),alert("Please agree to the terms and conditions before continuing."),!1;$("#agreeTC").removeClass("redBorder");var t=$("div.marketing select").val();return t=="none"?($("div.marketing select").addClass("redBorder"),alert("Please tell us where you heard about us."),!1):($("div.marketing select").removeClass("redBorder"),n.disabled=!0,$.blockUI({message:'<h1><img src="../Images/busy.gif" alt="" />Creating Payment<\/h1>'}),t=t=="optOther"?"O:"+$("div.marketing input").val():t,$.ajax({type:"POST",url:"../OrderingWebService.asmx/CreatePayment",contentType:"application/json; charset=utf-8",data:'{"bPaymentTypeId":'+$("#paymentType").val()+',"marketing": "'+t+'"}',dataType:"json",success:function(t){if(t.d.ErrorType!=null&&t.d.ErrorType!=""&&t.d.ErrorType!=undefined&&t.d.ErrorType.toUpperCase()=="REDIRECT"){$.unblockUI(),window.location=t.d.RedirectUrl;return}if(t.d.Error!=""&&t.d.Error!=undefined&&t.d.Error!=null){$.unblockUI(),alert("Error:"+t.d.Error),SetHiddenError(t.d),document.forms[0].submit();return}t.d.LoadScript==null||t.d.LoadScript==undefined||t.d.LoadScript==!1?($.unblockUI(),$.blockUI({message:'<h1><img src="../Images/busy.gif" alt="" />Contacting Payment Gateway<\/h1>'}),t.d.Data!=""&&t.d.Data!=undefined&&t.d.Data!=null?($("#paymentData").html(t.d.Data),t.d.PostURL!=""&&t.d.PostURL!=undefined&&t.d.PostURL!=null&&(document.forms[0].action=t.d.PostURL,document.forms[0].__VIEWSTATE.name="NOVIEWSTATE",document.forms[0].__VIEWSTATE.value=""),document.forms[0].submit()):t.d.PostURL!=""&&t.d.PostURL!=undefined&&t.d.PostURL!=null&&(window.location=t.d.PostURL)):(t.d.Data!=""&&t.d.Data!=undefined&&t.d.Data!=null&&$("#paymentData").html(t.d.Data),$.getScript("../PublicPages/PaymentScript.ashx").done(function(){DoPayment()}).fail(function(){$.unblockUI(),alert("Failed to load payment script. Could not complete payment, please try again later.")}),n.disabled=!1)},error:function(n){$.unblockUI(),alert(n.responseText)}}),!1)}function SetHiddenError(n){$("#fErrorSet").val(!0),$("#txtError").val(n.Error),$("#txtErrorType").val(n.ErrorType),$("#txtData").val(n.Data),$("#txtPostURL").val(n.PostURL),$("#txtRedirectURL").val(n.RedirectURL)}function ClearHiddenError(){$("#fErrorSet").val(!1),$("#txtError").val(null),$("#txtErrorType").val(null),$("#txtData").val(null),$("#txtPostURL").val(null),$("#txtRedirectURL").val(null)}var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,n=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(u,f,e){var h=dateFormat;if(arguments.length!=1||Object.prototype.toString.call(u)!="[object String]"||/\d/.test(u)||(f=u,u=undefined),u=u?new Date(u):new Date,isNaN(u))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),f.slice(0,4)=="UTC:"&&(f=f.slice(4),e=!0);var o=e?"getUTC":"get",c=u[o+"Date"](),y=u[o+"Day"](),l=u[o+"Month"](),p=u[o+"FullYear"](),s=u[o+"Hours"](),w=u[o+"Minutes"](),b=u[o+"Seconds"](),a=u[o+"Milliseconds"](),v=e?0:u.getTimezoneOffset(),k={d:c,dd:n(c),ddd:h.i18n.dayNames[y],dddd:h.i18n.dayNames[y+7],m:l+1,mm:n(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(p).slice(2),yyyy:p,h:s%12||12,hh:n(s%12||12),H:s,HH:n(s),M:w,MM:n(w),s:b,ss:n(b),l:n(a,3),L:n(a>99?Math.round(a/10):a),t:s<12?"a":"p",tt:s<12?"am":"pm",T:s<12?"A":"P",TT:s<12?"AM":"PM",Z:e?"UTC":(String(u).match(i)||[""]).pop().replace(r,""),o:(v>0?"-":"+")+n(Math.floor(Math.abs(v)/60)*100+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return f.replace(t,function(n){return n in k?k[n]:n.slice(1,n.length-1)})}}(),voucher,orderContinueButtonClicked,sCurrency,products,listedProducts;dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(n,t){return dateFormat(this,n,t)};var dtCh="/",minYear=1900,currentTime=new Date,maxYear=currentTime.getFullYear();String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1},String.prototype.trim=function(){return this.replace(/^[\s]+|[\s]+$/g,"")},Cookie=function(){return{Create:function(n){var i="/",r="",t;i=n.path!=undefined&&n.domain!=undefined?"; path="+n.path+"; domain="+n.domain:"; path="+i,n.expires!=undefined&&(typeof n.expires==Date?r="; expires="+n.expires:typeof n.expires=="number"&&(t=new Date,t.setTime(t.getTime()+n.expires*864e5),r="; expires="+t.toGMTString())),document.cookie=n.name+"="+n.value+r+i},GetValue:function(n){var r,u,i,t;for(n=n+"=",r=document.cookie.split(";"),u=r.length,i=0;i<u;i++)if(t=r[i],t=t.trim(),t.indexOf(n)==0)return t.substring(n.length,t.length);return null},Delete:function(n){this.Create({name:n,value:"",expires:-1})}}}(),voucher=null,orderContinueButtonClicked=!1,ProductType.prototype.GetQuantity=function(){return this.QuantityTextBox==undefined||this.QuantityTextBox.value==""?0:parseInt(this.QuantityTextBox.value)},ProductType.prototype.SetQuantity=function(n){this.QuantityTextBox.value=n},Array.prototype.removeFirstObj=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return this.splice(t,1),!0;return!1},String.prototype.startsWith=function(n){return this.indexOf(n)==0},String.prototype.format=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n},products=[],listedProducts=[],$(document).ready(function(){document.location.pathname.toUpperCase().endsWith("/ORDER.ASPX")?OrderDocumentReady():document.location.pathname.toUpperCase().endsWith("/ORDERDELIVERY.ASPX")?OrderDeliveryDocumentReady():document.location.pathname.toUpperCase().endsWith("/ORDERCONFIRMATION.ASPX")&&OrderConfirmationDocumentReady()})